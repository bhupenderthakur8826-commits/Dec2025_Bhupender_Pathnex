##     GitLab CI/CD — With Docker Build
stages:
  - build
  - push
  - deploy
build:
  stage: build
  script:
    - docker build -t pathnex-app .
push:
  stage: push
  script:
- docker push pathnex-app

deploy:
  stage: deploy
  script:
- kubectl apply -f kubernetes/deployment.yaml
## Ansible — Create User and Set Permissions
- name: Create a new user
  hosts: all
  become: yes
  tasks:
 - name: Create user
  user:
   name: pathnex
  state: present
  shell: /bin/bash
- name: Set permissions for the user
file:
 path: /home/pathnex
owner: pathnex
group: pathnex
  mode: '0755'
##Terraform — EC2 with Tags and Volume
resource "aws_instance" "PathnexEC2" {
  ami           = "ami-0abcd1234abcd1234"
instance_type = "t2.medium"
 tags = {
    Name = "Pathnex-Server"
  }
 ebs_block_device {
    device_name = "/dev/sdh"
    volume_size = 50
  }
}
